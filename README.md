# xPaste

åŸºäº Go + React çš„è·¨å¹³å°å‰ªè´´æ¿ç®¡ç†å·¥å…·ï¼Œæ”¯æŒå†å²è®°å½•ã€OCR è¯†åˆ«ã€è·¨è®¾å¤‡åŒæ­¥ç­‰åŠŸèƒ½ã€‚

## æ¶æ„è®¾è®¡

æœ¬é¡¹ç›®é‡‡ç”¨ Clean Architecture + Hexagonal Architecture è®¾è®¡ï¼Œå®ç°å¼ºè§£è€¦ã€è·¨å¹³å°ã€å¯é€æ­¥å®ç°çš„æ¶æ„ã€‚

### ç›®å½•ç»“æ„

```
/ (monorepo)
â”œâ”€â”€ apps/desktop/                 # Wails æ¡Œé¢åº”ç”¨
â”‚   â”œâ”€â”€ backend/                  # Go åç«¯
â”‚   â”‚   â”œâ”€â”€ cmd/                  # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ internal/             # å†…éƒ¨åŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒé¢†åŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ features/         # åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ adapters/         # é€‚é…å™¨å®ç°
â”‚   â”‚   â””â”€â”€ pkg/                  # å¯å¤ç”¨åŒ…
â”‚   â””â”€â”€ frontend/                 # React å‰ç«¯
â”œâ”€â”€ services/sync-api/            # ç‹¬ç«‹åŒæ­¥æœåŠ¡
â”œâ”€â”€ packages/                     # å…±äº«åŒ…
â”‚   â”œâ”€â”€ shared-types/             # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ protocol/                 # åè®®å®šä¹‰
â”‚   â””â”€â”€ sdk-client/               # å®¢æˆ·ç«¯SDK
â”œâ”€â”€ scripts/                      # æ„å»ºè„šæœ¬
â””â”€â”€ docs/                         # æ–‡æ¡£
```

## æŠ€æœ¯æ ˆ

### æ¡Œé¢åº”ç”¨ (apps/desktop)
- **åç«¯**: Go + Wails v2
- **å‰ç«¯**: React 18 + TypeScript + TailwindCSS + Zustand
- **æ•°æ®åº“**: SQLite (GORM)
- **å¹³å°èƒ½åŠ›**: clipboard, robotgo, gosseract

### åŒæ­¥æœåŠ¡ (services/sync-api)
- **æ¡†æ¶**: Go + Gin
- **æ•°æ®åº“**: PostgreSQL/SQLite (GORM)
- **å®æ—¶é€šä¿¡**: WebSocket
- **æ—¥å¿—**: Zap
- **é…ç½®**: Viper

### å…±äº«åŒ… (packages)
- **ç±»å‹å®šä¹‰**: TypeScript
- **åè®®**: HTTP/WebSocket å¥‘çº¦
- **SDK**: å®¢æˆ·ç«¯åŒæ­¥ SDK

## å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- Go 1.21+
- pnpm 8+

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pnpm install
```

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨æ¡Œé¢åº”ç”¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# å¯åŠ¨åŒæ­¥æœåŠ¡
pnpm dev:sync

# æ„å»ºæ‰€æœ‰é¡¹ç›®
pnpm build:all

# ä»£ç æ£€æŸ¥
pnpm lint:all
```

### å•ç‹¬å¼€å‘

```bash
# æ¡Œé¢åº”ç”¨
cd apps/desktop
pnpm dev

# åŒæ­¥æœåŠ¡
cd services/sync-api
go run cmd/main.go

# å…±äº«åŒ…
cd packages/shared-types
pnpm build
```

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- âœ… å‰ªè´´æ¿å†å²è®°å½•
- âœ… æ™ºèƒ½å»é‡å’Œåˆ†ç±»
- âœ… å¿«é€Ÿæœç´¢å’Œç­›é€‰
- âœ… è‡ªåŠ¨ç²˜è´´åŠŸèƒ½
- âœ… æ”¶è—å’Œå¤‡æ³¨

### é«˜çº§åŠŸèƒ½
- ğŸš§ OCR æ–‡å­—è¯†åˆ«
- ğŸš§ è·¨è®¾å¤‡åŒæ­¥
- ğŸš§ ç³»ç»Ÿæ‰˜ç›˜é›†æˆ
- ğŸš§ è‡ªå¯åŠ¨ç®¡ç†
- ğŸš§ è‡ªåŠ¨æ›´æ–°

### ç”¨æˆ·ä½“éªŒ
- âœ… å¤šä¸»é¢˜æ”¯æŒ
- âœ… å¤šè¯­è¨€æ”¯æŒ
- âœ… å¿«æ·é”®é…ç½®
- âœ… å“åº”å¼ç•Œé¢

## å®ç°é˜¶æ®µ

### P0 åŸºå»ºä¸ç¯å¢ƒå‡†å¤‡ âœ…
- [x] åˆå§‹åŒ– Wails åº”ç”¨éª¨æ¶
- [x] åˆ›å»º monorepo ç»“æ„
- [x] é…ç½® Go modulesã€pnpm workspace
- [x] TypeScript é…ç½®

### P1 ç±»å‹ç³»ç»Ÿä¸å¥‘çº¦ âœ…
- [x] å®šä¹‰æ ¸å¿ƒé¢†åŸŸç±»å‹
- [x] ç”Ÿæˆ TypeScript ç±»å‹å®šä¹‰
- [x] å®ç°åè®®è§„èŒƒ
- [x] å®Œæˆ sdk-client åŸºç¡€æ¡†æ¶

### P2 å­˜å‚¨å±‚ä¸æ ¸å¿ƒæœåŠ¡ ğŸš§
- [ ] å®ç° StoragePort æ¥å£ä¸ SqliteAdapter
- [ ] å»ºç«‹æ•°æ®åº“è¿ç§»æœºåˆ¶
- [ ] å®ç° Repository å±‚
- [ ] å®ŒæˆåŸºç¡€çš„ ClipboardService

### P3-P8 åŠŸèƒ½å®ç° ğŸš§
- [ ] å‰ªè´´æ¿ç›‘å¬ä¸æœ¬åœ°åŠŸèƒ½
- [ ] UI ç•Œé¢ä¸äº¤äº’
- [ ] åŒæ­¥æœåŠ¡ä¸è”è°ƒ
- [ ] OCR åŠŸèƒ½å®ç°
- [ ] ç³»ç»Ÿé›†æˆåŠŸèƒ½
- [ ] å‘å¸ƒå‡†å¤‡ä¸ä¼˜åŒ–

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## è®¸å¯è¯

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ç›¸å…³é“¾æ¥

- [è®¾è®¡æ–‡æ¡£](new-architecture-design.md)
- [API æ–‡æ¡£](docs/api.md)
- [å¼€å‘æŒ‡å—](docs/development.md)
